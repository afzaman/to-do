(()=>{"use strict";var t={d:(e,a)=>{for(var i in a)t.o(a,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{q3:()=>I,OZ:()=>C,lg:()=>x,gm:()=>N});class e{constructor(t,{dueDate:e="No Due Date",taskList:a,description:i="Description goes here",priority:n=1}={}){this.id=Date.now().toString(),this.name=t,this.tasks=[],this.dueDate=e,this.description=i,this.priority=n}}class a{constructor(t,{priority:e=1}={}){this.id=Date.now().toString(),this.name=t,this.complete=!1,this.priority=e}}const i=document.querySelector("[data-lists]"),n=document.querySelector("[data-list-display-container]"),s=document.querySelector("[data-list-title]"),r=document.querySelector("[data-list-count]"),o=document.querySelector("[data-tasks]"),d=document.getElementById("task-template"),c=document.querySelector("[data-list-description]"),l=document.querySelector("[data-due-date]"),u=document.querySelector("[data-list-priority]");function m(){p(),y()}function p(){localStorage.setItem(I,JSON.stringify(x)),localStorage.setItem(C,N)}function y(){S(i),x.forEach((t=>{const e=document.createElement("li");e.dataset.listId=t.id,e.classList.add("list-name"),e.innerText=t.name,t.id===N&&e.classList.add("active-list"),i.appendChild(e)}));const t=x.find((t=>t.id===N));null===N?n.style.display="none":(n.style.display="",s.innerText=t.name,c.innerText=t.description,l.innerText=t.dueDate,u.innerText=t.priority,f(t),S(o),function(t){t.tasks.forEach((t=>{const e=document.importNode(d.content,!0),a=e.querySelector("input");a.id=t.id,a.checked=t.complete;const i=e.querySelector("label");i.htmlFor=t.id,i.append(t.name),o.appendChild(e)}))}(t))}function f(t){const e=t.tasks.filter((t=>!t.complete)).length,a=1===e?"task":"tasks";r.innerText=`${e} ${a} remaining`}function S(t){for(;t.firstChild;)t.removeChild(t.firstChild)}const h=document.querySelector("[data-lists]"),v=document.querySelector("[data-new-list-form]"),g=document.querySelector("[data-new-list-input]"),k=document.querySelector("[data-delete-list-button]"),q=document.querySelector("[data-tasks]"),L=document.querySelector("[data-new-task-form]"),E=document.querySelector("[data-new-task-input]"),w=document.querySelector("[data-clear-complete-button]"),D=document.querySelector("[data-due-date-input]"),b=document.querySelector("[data-due-date]"),I="task.lists",C="task.selectedListId";let x=JSON.parse(localStorage.getItem(I))||[],N=localStorage.getItem(C);h.addEventListener("click",(t=>{"li"===t.target.tagName.toLowerCase()&&(N=t.target.dataset.listId,m())})),q.addEventListener("click",(t=>{if("input"===t.target.tagName.toLowerCase()){const e=x.find((t=>t.id===N));e.tasks.find((e=>e.id===t.target.id)).complete=t.target.checked,p(),f(e)}})),w.addEventListener("click",(t=>{const e=x.find((t=>t.id===N));e.tasks=e.tasks.filter((t=>!t.complete)),m()})),k.addEventListener("click",(t=>{x=x.filter((t=>t.id!==N)),N=null,m()})),v.addEventListener("submit",(t=>{t.preventDefault();const a=g.value;if(null==a||""===a)return;const i=new e(a);g.value=null,x.push(i),m()})),L.addEventListener("submit",(t=>{t.preventDefault();const e=E.value;if(null==e||""===e)return;const i=new a(e);E.value=null,x.find((t=>t.id===N)).tasks.push(i),m()})),b.addEventListener("click",(t=>{b.classList.add("inactive"),D.classList.remove("inactive")})),D.addEventListener("change",(t=>{N.dueDate=D.value,b.classList.remove("inactive"),D.classList.add("inactive"),m()})),y()})();